{"layers":[{"id":0,"name":"Default","keys":[[{"t":"p","d":{"a":{"t":"p","c":"stenoNum1"}}},{"t":"r","d":{"a":{"t":"r","c":"stenoNum1"}}},{"t":"s","d":{"s":"","p":"updateLed();","r":"updateLed();"}}],[{"t":"p","d":{"a":{"t":"p","c":"stenoNum2"}}},{"t":"r","d":{"a":{"t":"r","c":"stenoNum2"}}},{"t":"s","d":{"s":"","p":"updateLed();","r":"updateLed();"}}],[{"t":"p","d":{"a":{"t":"p","c":"stenoS1"}}},{"t":"r","d":{"a":{"t":"r","c":"stenoS1"}}},{"t":"s","d":{"s":"","p":"updateLed();","r":"updateLed();"}}],[{"t":"p","d":{"a":{"t":"p","c":"stenoTL"}}},{"t":"r","d":{"a":{"t":"r","c":"stenoTL"}}},{"t":"s","d":{"s":"","p":"updateLed();","r":"updateLed();"}}],[{"t":"p","d":{"a":{"t":"p","c":"stenoPL"}}},{"t":"r","d":{"a":{"t":"r","c":"stenoPL"}}},{"t":"s","d":{"s":"","p":"updateLed();","r":"updateLed();"}}],[{"t":"p","d":{"a":{"t":"p","c":"stenoHL"}}},{"t":"r","d":{"a":{"t":"r","c":"stenoHL"}}},{"t":"s","d":{"s":"","p":"updateLed();","r":"updateLed();"}}],[{"t":"p","d":{"a":{"t":"p","c":"stenoStar1"}}},{"t":"r","d":{"a":{"t":"r","c":"stenoStar1"}}},{"t":"s","d":{"s":"","p":"updateLed();","r":"updateLed();"}}],[{"t":"p","d":{"a":{"t":"p","c":"stenoStar2"}}},{"t":"r","d":{"a":{"t":"r","c":"stenoStar2"}}},{"t":"s","d":{"s":"","p":"updateLed();","r":"updateLed();"}}],[{"t":"p","d":{"a":{"t":"p","c":"stenoFR"}}},{"t":"r","d":{"a":{"t":"r","c":"stenoFR"}}},{"t":"s","d":{"s":"","p":"updateLed();","r":"updateLed();"}}],[{"t":"p","d":{"a":{"t":"p","c":"stenoPR"}}},{"t":"r","d":{"a":{"t":"r","c":"stenoPR"}}},{"t":"s","d":{"s":"","p":"updateLed();","r":"updateLed();"}}],[{"t":"p","d":{"a":{"t":"p","c":"stenoLR"}}},{"t":"r","d":{"a":{"t":"r","c":"stenoLR"}}},{"t":"s","d":{"s":"","p":"updateLed();","r":"updateLed();"}}],[{"t":"p","d":{"a":{"t":"p","c":"stenoTR"}}},{"t":"r","d":{"a":{"t":"r","c":"stenoTR"}}},{"t":"s","d":{"s":"","p":"updateLed();","r":"updateLed();"}}],[{"t":"p","d":{"a":{"t":"p","c":"stenoDR"}}},{"t":"r","d":{"a":{"t":"r","c":"stenoDR"}}},{"t":"s","d":{"s":"","p":"updateLed();","r":"updateLed();"}}],[{"t":"p","d":{"a":{"t":"p","c":"stenoS2"}}},{"t":"r","d":{"a":{"t":"r","c":"stenoS2"}}},{"t":"s","d":{"s":"","p":"updateLed();","r":"updateLed();"}}],[{"t":"p","d":{"a":{"t":"p","c":"stenoKL"}}},{"t":"r","d":{"a":{"t":"r","c":"stenoKL"}}},{"t":"s","d":{"s":"","p":"updateLed();","r":"updateLed();"}}],[{"t":"p","d":{"a":{"t":"p","c":"stenoWL"}}},{"t":"r","d":{"a":{"t":"r","c":"stenoWL"}}},{"t":"s","d":{"s":"","p":"updateLed();","r":"updateLed();"}}],[{"t":"p","d":{"a":{"t":"p","c":"stenoRL"}}},{"t":"r","d":{"a":{"t":"r","c":"stenoRL"}}},{"t":"s","d":{"s":"","p":"updateLed();","r":"updateLed();"}}],[{"t":"p","d":{"a":{"t":"p","c":"stenoRR"}}},{"t":"r","d":{"a":{"t":"r","c":"stenoRR"}}},{"t":"s","d":{"s":"","p":"updateLed();","r":"updateLed();"}}],[{"t":"p","d":{"a":{"t":"p","c":"stenoBR"}}},{"t":"r","d":{"a":{"t":"r","c":"stenoBR"}}},{"t":"s","d":{"s":"","p":"updateLed();","r":"updateLed();"}}],[{"t":"p","d":{"a":{"t":"p","c":"stenoGR"}}},{"t":"r","d":{"a":{"t":"r","c":"stenoGR"}}},{"t":"s","d":{"s":"","p":"updateLed();","r":"updateLed();"}}],[{"t":"p","d":{"a":{"t":"p","c":"stenoSR"}}},{"t":"r","d":{"a":{"t":"r","c":"stenoSR"}}},{"t":"s","d":{"s":"","p":"updateLed();","r":"updateLed();"}}],[{"t":"p","d":{"a":{"t":"p","c":"stenoZR"}}},{"t":"r","d":{"a":{"t":"r","c":"stenoZR"}}},{"t":"s","d":{"s":"","p":"updateLed();","r":"updateLed();"}}],[{"t":"p","d":{"a":{"t":"p","c":"stenoA"}}},{"t":"r","d":{"a":{"t":"r","c":"stenoA"}}},{"t":"s","d":{"s":"","p":"updateLed();","r":"updateLed();"}}],[{"t":"p","d":{"a":{"t":"p","c":"stenoO"}}},{"t":"r","d":{"a":{"t":"r","c":"stenoO"}}},{"t":"s","d":{"s":"","p":"updateLed();","r":"updateLed();"}}],[{"t":"p","d":{"a":{"t":"p","c":"stenoE"}}},{"t":"r","d":{"a":{"t":"r","c":"stenoE"}}},{"t":"s","d":{"s":"","p":"updateLed();","r":"updateLed();"}}],[{"t":"p","d":{"a":{"t":"p","c":"stenoU"}}},{"t":"r","d":{"a":{"t":"r","c":"stenoU"}}},{"t":"s","d":{"s":"","p":"updateLed();","r":"updateLed();"}}],[{"t":"p","d":{"a":{"t":"s","script":"if (getParameter(\"steno_mode\") != \"embedded\") {\n  console(\"set_steno_mode embedded\");\n  flashTimerDuration = 1000;\n} else {\n  console(\"set_steno_mode gemini\");\n  flashTimerDuration = 500;\n}\nflashTimerStart = getTime();\nstartTimer(TIMER_ID_LED_FLASH, 50, 1, @onLedFlashTimer);\nreleaseAll();"}}},{"t":"s","d":{"s":"const TIMER_ID_LED_FLASH = 0;\nconst LED_PIN = 26;\n\nvar flashTimerStart;\nvar flashTimerDuration;\n\nfunc init() {\n  flashTimerDuration = 1000;\n  flashTimerStart = getTime();\n  startTimer(TIMER_ID_LED_FLASH, 50, 1, @onLedFlashTimer);\n}\n\nfunc onLedFlashTimer() {\n  var now = getTime();\n  var elapsed = now - flashTimerStart;\n  if (elapsed >= flashTimerDuration) {\n    stopTimer(TIMER_ID_LED_FLASH);\n    updateLed();\n  } else {\n    setGpioPinDutyCycle(LED_PIN, 10 * !((elapsed/250) & 1));\n  }\n}\n\nfunc updateLed() {\n  if (isTimerActive(TIMER_ID_LED_FLASH)) return;\n\n  if (checkButtonState(\"00000000000000000000000000\")) {\n    setGpioPin(LED_PIN, 0);\n  } else{\n    setGpioPinDutyCycle(LED_PIN, 5);\n  }\n}","p":"","r":""}}]]}]}